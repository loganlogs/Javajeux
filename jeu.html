<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <title>Jeu : Devinez un nombre</title>
    <link href="images/640_glock_slot.ico" rel="shortcut icon" type="image/x-icon" />
  </head>
  <body>
    <h1>Jeu : Devinez un nombre</h1>

    <!-- Section de connexion -->
    <div id="login" class="login-section">
      <label for="username">Nom d'utilisateur (facultatif) :</label>
      <input 
        type="text" 
        id="username" 
        placeholder="Entrez votre pseudo" 
        aria-label="Entrez votre nom d'utilisateur"
      >
      <button id="loginButton">Jouer</button>
    </div>

    <!-- Section principale du jeu -->
    <div id="game" class="game-section" style="display: none;">
      <p>Un nombre entre 1 et 100 a été choisi. Essayez de deviner !</p>
      <div class="form">
        <label for="proposition">Votre proposition :</label>
        <input 
          type="text" 
          id="proposition" 
          placeholder="Entrez un nombre" 
          aria-label="Entrez votre proposition"
        >
        <button class="envoyer" id="envoyer">Envoyer</button>
        <button class="reset" id="reset" style="display: none;">Reset</button>
      </div>
      <div class="informations">
        <p class="resultat" aria-live="polite"></p>
        <p class="tropHautTropBas"></p>
        <p class="tentatives"></p>
      </div>
    </div>

    <!-- Tableau des scores -->
    <h2>Tableau des scores</h2>
    <div id="scoreTableContainer">
      <table id="scoreTable" aria-label="Tableau des scores">
        <thead>
          <tr>
            <th>Rang</th>
            <th>Utilisateur</th>
            <th>Score Total</th>
          </tr>
        </thead>
        <tbody>
          <!-- Les scores seront ajoutés ici dynamiquement -->
        </tbody>
      </table>
    </div>

    <!-- Section "Suivez-moi" rétractable -->
    <div id="userProfileSection" class="profile-section">
      <button id="toggleProfiles" class="toggle-btn" aria-expanded="false" aria-controls="userProfileList">
        ▼ Suivez-moi sur
      </button>
      <ul id="userProfileList" class="profile-links">
        <li><a href="https://guns.lol/sw9lly" target="_blank" aria-label="Mon guns.lol">Mon guns.lol</a></li>
        <li>
          <a href="https://open.spotify.com/playlist/0yKcagw8zOzL2HCjIrJBCF?si=8e06efae90ff4259" 
             target="_blank" 
             aria-label="Ma playlist Spotify"
          >
            Ma playlist Spotify
          </a>
        </li>
        <li>
          <a href="https://discord.gg/JWMu9dqdGk" target="_blank" aria-label="Discord">
            Discord
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/sw9qlf" target="_blank" aria-label="Mon Instagram">
            Mon Instagram
          </a>
        </li>
        <li>
          <a href="https://www.tiktok.com/@sw9lly" target="_blank" aria-label="Mon TikTok">
            Mon TikTok
          </a>
        </li>
        <li>
          <a href="https://www.twitch.tv/sw9lly" target="_blank" aria-label="Mon Twitch">
            Mon Twitch
          </a>
        </li>
        <li>
          <a href="https://cyber-learning.fr/" target="_blank" aria-label="Cyber-Learning">
            Cyber-Learning
          </a>
        </li>
      </ul>
    </div>

    <!-- Script JS -->
    <script type="module" src="scripts/jeu.js"></script>

    <!-- Script pour le toggle -->
    <script>
      const toggleButton = document.getElementById('toggleProfiles');
      const profileSection = document.getElementById('userProfileSection');

      toggleButton.addEventListener('click', () => {
        // Toggle de la classe 'open' pour afficher/masquer la section
        profileSection.classList.toggle('open');
        
        // Changer le texte du bouton en fonction de l'état
        if (profileSection.classList.contains('open')) {
          toggleButton.textContent = '▲ Masquer';
        } else {
          toggleButton.textContent = '▼ Suivez-moi sur';
        }
      });
    </script>
  </body>
</html>
