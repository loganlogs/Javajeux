<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <link href="images/logo_java1.png" rel="shortcut icon" type="image/x-icon" />
    <title>Jeu : Devinez un nombre</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>
  <body>
    <h1>Jeu : Devinez un nombre</h1>

    <!-- Section de connexion -->
    <div id="login" class="login-section">
      <label for="username">Nom d'utilisateur (facultatif) :</label>
      <input 
        type="text" 
        id="username" 
        placeholder="Entrez votre pseudo" 
        aria-label="Entrez votre nom d'utilisateur"
      >
      <button id="loginButton">Jouer</button>
    </div>

    <!-- Section principale du jeu -->
    <div id="game" class="game-section" style="display: none;">
      <p>Un nombre entre 1 et 100 a été choisi. Essayez de deviner !</p>
      <div class="form">
        <label for="proposition">Votre proposition :</label>
        <input 
          type="text" 
          id="proposition" 
          placeholder="Entrez un nombre" 
          aria-label="Entrez votre proposition"
        >
        <button class="envoyer" id="envoyer">Envoyer</button>
        <button class="reset" id="reset" style="display: none;">Reset</button>
      </div>
      <div class="informations">
        <p class="resultat" aria-live="polite"></p>
        <p class="tropHautTropBas"></p>
        <p class="tentatives"></p>
      </div>
    </div>

    <!-- Tableau des scores -->
    <h2>Tableau des scores</h2>
    <div id="scoreTableContainer">
      <table id="scoreTable" aria-label="Tableau des scores">
        <thead>
          <tr>
            <th>Rang</th>
            <th>Utilisateur</th>
            <th>Score Total</th>
          </tr>
        </thead>
        <tbody>
          <!-- Les scores seront ajoutés ici dynamiquement -->
        </tbody>
      </table>
    </div>

    <!-- Section pour afficher les réseaux sociaux avec <details> -->
    <details>
      <summary>Afficher mes réseaux sociaux</summary>
      <ul class="social-links">
        <li><a href="https://guns.lol/sw9lly" target="_blank" class="social-link"><i class="fas fa-bolt"></i> Mon guns.lol</a></li>
        <li><a href="https://open.spotify.com/playlist/0yKcagw8zOzL2HCjIrJBCF?si=8e06efae90ff4259" target="_blank" class="social-link"><i class="fas fa-music"></i> Ma playlist Spotify</a></li>
        <li><a href="https://discord.gg/JWMu9dqdGk" target="_blank" class="social-link"><i class="fab fa-discord"></i> Discord</a></li>
        <li><a href="https://www.instagram.com/sw9qlf" target="_blank" class="social-link"><i class="fab fa-instagram"></i> Mon Instagram</a></li>
        <li><a href="https://www.tiktok.com/@sw9lly" target="_blank" class="social-link"><i class="fab fa-tiktok"></i> Mon TikTok</a></li>
        <li><a href="https://www.twitch.tv/sw9lly" target="_blank" class="social-link"><i class="fab fa-twitch"></i> Mon Twitch</a></li>
        <li><a href="https://cyber-learning.fr/" target="_blank" class="social-link"><i class="fas fa-laptop-code"></i> Cyber-Learning</a></li>
      </ul>
    </details>

    <!-- Script JS -->
    <script type="module" src="scripts/jeu.js"></script>

    <!-- Script pour la connexion et afficher le jeu -->
    <script>
      // Récupérer les éléments nécessaires
      const loginSection = document.getElementById('login');
      const gameSection = document.getElementById('game');
      const loginButton = document.getElementById('loginButton');
      const themeButtons = document.querySelectorAll('.theme');

      // Gérer l'événement pour afficher le jeu après avoir cliqué sur "Jouer"
      loginButton.addEventListener('click', function() {
        const username = document.getElementById('username').value.trim();

        // Si un pseudo est entré (optionnel) ou même vide, on affiche le jeu
        if (username !== "") {
          loginSection.style.display = "none";  // Cacher la section de connexion
          gameSection.style.display = "block";  // Afficher la section du jeu
        } else {
          alert("Veuillez entrer un pseudo !");
        }
      });

      // Changer de thème en fonction du bouton cliqué
      themeButtons.forEach(button => {
        button.addEventListener('click', function() {
          const themeClass = this.classList[1]; // Récupérer le thème sélectionné
          document.body.className = themeClass; // Appliquer la classe du thème au body
        });
      });
    </script>
  </body>
</html>
